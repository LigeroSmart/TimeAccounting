# --
# AgentTimeAccountingOverview.dtl - provides HTML form for time accounting overview
# Copyright (C) 2001-2010 OTRS AG, http://otrs.org/
# --
# $Id: AgentTimeAccountingOverview.dtl,v 1.23 2010-12-22 22:38:14 en Exp $
# --
# This software comes with ABSOLUTELY NO WARRANTY. For details, see
# the enclosed file COPYING for license information (AGPL). If you
# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.
# --

<div class="MainBox ARIARoleMain LayoutFixedSidebar SidebarFirst">
    <h1 class="Header">$Text{"Time reporting monthly overview"}</h1>

    <div class="SidebarColumn">
    </div>

    <div class="ContentColumn">
        <div class="WidgetSimple">
            <div class="Header">
<!-- dtl:block:User -->
                <h2>$Text{"Overview of "} $QData{"User"}</h2>
<!-- dtl:block:User -->
                <div>
                    <a href="$Env{"Baselink"}Action=$Env{"Action"};Subaction=Overview;Year=$LQData{"YearBack"};Month=$LQData{"MonthBack"};UserID=$LQData{"UserID"}">
                        $Text{"Previous month"}
                    </a>
                    <strong>$Text{"$Data{"Month_to_Text"}"} $QData{"Year"}</strong>
                    <a href="$Env{"Baselink"}Action=$Env{"Action"};Subaction=Overview;Year=$LQData{"YearNext"};Month=$LQData{"MonthNext"};UserID=$LQData{"UserID"}">
                        $Text{"Next month"}
                    </a>
                </div>
            </div>

            <div class="Content">
                <table class="DataTable">
                    <tbody>
<!-- dtl:block:Row -->
                        <tr class="MasterAction">
                            <td class="Center">
                                <a href="$Env{"Baselink"}Action=$Env{"Action"};Subaction=EditUser;Year=$LQData{"Year"};Month=$LQData{"Month"};Day=$LQData{"Day"};UserID=$LQData{"UserID"}" class="MasterActionLink">
                                    $QData{"Day"}
                                </a>
                            </td>
                            <td>$Text{"$Data{"Weekday_to_Text"}"}</td>
                            <td>$Text{"$Data{"Comment"}"}</td>
                            <td class="Right">$QData{"WorkingHours"}</td>
                        </tr>
<!-- dtl:block:Row -->
                        <tr>
                            <td colspan="3" class="Right"><strong>$Text{"Total worked hours"}:</strong></td>
                            <td class="Right">$QData{"WorkingHours"}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

<!-- dtl:block:Overtime -->
        <div class="WidgetSimple">
            <div class="Header">
                <h2>$Text{"Overtime (Hours)"}</h2>
            </div>
            <div class="Content">
                <fieldset class="TableLike">
                    <label>
                        $Text{"Overtime (this month)"}:
                    </label>
                    <div class="Right">
                        <p>$QData{"Overtime"}</p>
                    </div>
                    <div class="Clear"></div>

                    <label>
                        $Text{"Overtime (total)"}:
                    </label>
                    <div class="Right">
                        <p>$QData{"OvertimeUntil"}</p>
                    </div>
                    <div class="Clear"></div>

                    <label>
                        $Text{"Remaining overtime leave"}:
                    </label>
                    <div class="Right">
                        <p>$QData{"OvertimeTotal"}</p>
                    </div>
                    <div class="Clear"></div>
                </fieldset>
            </div>
        </div>
<!-- dtl:block:Overtime -->

        <div class="WidgetSimple">
            <div class="Header">
                <h2>$Text{"Vacation (Days)"}</h2>
            </div>
            <div class="Content">
                <fieldset class="TableLike">
                    <label>
                        $Text{"Vacation taken (this month)"}:
                    </label>
                    <div class="Right">
                        <p>$QData{"LeaveDay"}</p>
                    </div>
                    <div class="Clear"></div>

                    <label>
                        $Text{"Vacation taken (total)"}:
                    </label>
                    <div class="Right">
                        <p>$QData{"LeaveDayTotal"}</p>
                    </div>
                    <div class="Clear"></div>

                    <label>
                        $Text{"Remaining vacation"}:
                    </label>
                    <div class="Right">
                        <p>$QData{"LeaveDayRemaining"}</p>
                    </div>
                    <div class="Clear"></div>
                </fieldset>
            </div>
        </div>

        <div class="WidgetSimple">
            <div class="Header">
                <h2>$Text{"Sick Leave (Days)"}</h2>
            </div>
            <div class="Content">
                <fieldset class="TableLike">
                    <label>
                        $Text{"Sick leave taken (this month)"}:
                    </label>
                    <div class="Right">
                        <p>$QData{"Sick"}</p>
                    </div>
                    <div class="Clear"></div>

                    <label>
                        $Text{"Sick leave taken (total)"}:
                    </label>
                    <div class="Right">
                        <p>$QData{"SickTotal"}</p>
                    </div>
                    <div class="Clear"></div>

                </fieldset>
            </div>
        </div>

        <div class="WidgetSimple">
            <div class="Header">
                <h2>
                    $Text{"User's project overview"}
                    <a href="$Env{"Baselink"}Action=$Env{"Action"};Subaction=Overview;Year=$LQData{"Year"};Month=$LQData{"Month"};ProjectStatusShow=$LQData{"ProjectStatusShow"};UserID=$LQData{"UserID"}">
                        ($Text{"Show"} $Text{"$Data{"ProjectStatusShow"}"} $Text{"Projects"})
                    </a>
                </h2>
            </div>
            <div class="Content">
                <table class="DataTable DataTableNoHighlight">
                    <tbody>
                        <tr>
                            <td colspan="2"></td>
                            <td><strong>$Text{"Monthly"}</strong></td>
                            <td><strong>$Text{"Lifetime"}</strong></td>
                        </tr>
                        <tr>
                            <td><strong>$Text{"Project"}</strong></td>
                            <td><strong>$Text{"Task"}</strong></td>
                            <td><strong>$Text{"Hours"}</strong></td>
                            <td><strong>$Text{"Hours"}</strong></td>
                        </tr>
<!-- dtl:block:Action -->
                        <tr>
<!-- dtl:block:Project -->
                            <td rowspan="$Data{"RowSpan"}" valign="top">
                                <span>
<!-- dtl:block:ProjectNoLink -->
                                    $Data{"Project"}
<!-- dtl:block:ProjectNoLink -->
<!-- dtl:block:ProjectLink -->
                                    <a href="$Env{"Baselink"}Action=$Env{"Action"};Subaction=ProjectReporting;ProjectID=$QData{"ProjectID"}">
                                        $Data{"Project"}
                                    </a>
<!-- dtl:block:ProjectLink -->
                                </span>
                                <span>$Data{"ProjectDescription"}</span>
                            </td>
<!-- dtl:block:Project -->
                            <td>$QData{"Action"}</td>
                            <td class="Right">$QData{"Hours"}</td>
                            <td class="Right">$QData{"HoursTotal"}</td>
                        </tr>
<!-- dtl:block:Action -->
                        <tr>
                            <td colspan="2"><strong>$Text{"Grand total"}</strong></td>
                            <td class="Right"><strong>$QData{"TotalHours"}</strong></td>
                            <td class="Right"><strong>$QData{"TotalHoursTotal"}</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<!-- dtl:js_on_document_complete -->
<script type="text/javascript">//<![CDATA[
    $('.MasterAction').bind('click', function (Event) {
        window.location = $(this).find('.MasterActionLink').attr('href');
    });
//]]></script>
<!-- dtl:js_on_document_complete -->
